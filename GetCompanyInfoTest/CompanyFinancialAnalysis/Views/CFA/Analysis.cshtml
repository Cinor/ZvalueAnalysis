@model IEnumerable<CompanyFinancialAnalysis.ViewModel.CompanyFinancial>

@{
    ViewBag.Title = "Analysis";
}


<h2>選擇分析組別</h2>
<hr />
@using (Html.BeginForm("Analysis", "CFA", FormMethod.Get))
{
    <div class="row">
        <div class="col-md-4">
            <div class="input-group">
                <span class="input-group-addon">
                    <input type="radio" name="group" value="1" aria-label="...">
                </span>
                <input type="text" class="form-control" value="分析組別1:大立光、玉晶光、今國光" readonly="readonly" aria-label="...">
            </div><!-- /input-group -->
        </div><!-- /.col-lg-6 -->
        <div class="col-md-4">
            <div class="input-group">
                <span class="input-group-addon">
                    <input type="radio" name="group" value="2" aria-label="...">
                </span>
                <input type="text" class="form-control" value="分析組別2:台達電、研華、凌華" readonly="readonly" aria-label="...">
            </div><!-- /input-group -->
        </div><!-- /.col-lg-6 -->
        <div class="col-md-4">
            <div class="input-group">
                <input type="submit" value="分析" class="btn btn-primary" />
            </div><!-- /input-group -->
        </div><!-- /.col-lg-6 -->
    </div><!-- /.row -->
}
<p></p>
<hr/>
<p></p>
<h2>Analysis Chart</h2>


<p>
    <img id="ZscoreImg" name="ZscoreImg" src="~/Content/Img/ZscoreDescription.PNG" />
</p>

<p>
    <div class="col-md-12">
        <a class="btn btn-primary" data-toggle="collapse" href="#multiCollapseExample1" aria-expanded="false" aria-controls="multiCollapseExample1">Zscore</a>
    </div>
</p>
<br />
<p>
    <div class="col-md-4">
        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample2" aria-expanded="false" aria-controls="multiCollapseExample2">EBIT</button>

        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample2-1" aria-expanded="false" aria-controls="multiCollapseExample2-1">EBIT/總資產</button>
    </div>

    <div class="col-md-4">
        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample3" aria-expanded="false" aria-controls="multiCollapseExample3">保留盈餘</button>

        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample3-1" aria-expanded="false" aria-controls="multiCollapseExample3-1">保留盈餘/總資產</button>
    </div>
    <div class="col-md-4">
        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample4" aria-expanded="false" aria-controls="multiCollapseExample4">營運資金</button>

        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample4-1" aria-expanded="false" aria-controls="multiCollapseExample4-1">營運資金/總資產</button>
    </div>
</p>
<br />
<p>
    <div class="col-md-4">
        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample5" aria-expanded="false" aria-controls="multiCollapseExample5">總市值</button>

        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample5-1" aria-expanded="false" aria-controls="multiCollapseExample5-1">總市值/總負債</button>
    </div>
    <div class="col-md-4">
        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample6" aria-expanded="false" aria-controls="multiCollapseExample6">銷貨收入</button>

        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample6-1" aria-expanded="false" aria-controls="multiCollapseExample6-1">銷貨收入/總資產</button>
    </div>
    <div class="col-md-4">
        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample7" aria-expanded="false" aria-controls="multiCollapseExample7">總資產</button>

        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample8" aria-expanded="false" aria-controls="multiCollapseExample8">總負債</button>
    </div>
</p>
<p> </p>
<hr />
<br />
<div class="row">
    <div class="col col-md-6">
        <div class="collapse multi-collapse" id="multiCollapseExample1">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#collapse1">Zscore</a>
                    </h4>
                </div>
                <div id="collapse1" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div id="chartContainer" style="height: 350px; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col col-md-6">
        <div class="collapse multi-collapse" id="multiCollapseExample2">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#collapse2">EBIT</a>
                    </h4>
                </div>
                <div id="collapse2" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div id="chartContainer2" style="height: 350px; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col col-md-6">
        <div class="collapse multi-collapse" id="multiCollapseExample2-1">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#collapse2-1">EBIT/總資產</a>
                    </h4>
                </div>
                <div id="collapse2-1" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div id="chartContainer2-1" style="height: 350px; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col col-md-6">
        <div class="collapse multi-collapse" id="multiCollapseExample3">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#collapse3">保留盈餘</a>
                    </h4>
                </div>
                <div id="collapse3" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div id="chartContainer3" style="height: 350px; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col col-md-6">
        <div class="collapse multi-collapse" id="multiCollapseExample3-1">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#collapse3-1">保留盈餘/總資產</a>
                    </h4>
                </div>
                <div id="collapse3-1" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div id="chartContainer3-1" style="height: 350px; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col col-md-6">
        <div class="collapse multi-collapse" id="multiCollapseExample4">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#collapse4">營運資金</a>
                    </h4>
                </div>
                <div id="collapse4" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div id="chartContainer4" style="height: 350px; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col col-md-6">
        <div class="collapse multi-collapse" id="multiCollapseExample4-1">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#collapse4-1">營運資金/總資產</a>
                    </h4>
                </div>
                <div id="collapse4-1" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div id="chartContainer4-1" style="height: 350px; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col col-md-6">
        <div class="collapse multi-collapse" id="multiCollapseExample5">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#collapse5">總市值</a>
                    </h4>
                </div>
                <div id="collapse5" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div id="chartContainer5" style="height: 350px; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col col-md-6">
        <div class="collapse multi-collapse" id="multiCollapseExample5-1">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#collapse5-1">總市值/總負債</a>
                    </h4>
                </div>
                <div id="collapse5-1" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div id="chartContainer5-1" style="height: 350px; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col col-md-6">
        <div class="collapse multi-collapse" id="multiCollapseExample6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#collapse6">銷貨收入</a>
                    </h4>
                </div>
                <div id="collapse6" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div id="chartContainer6" style="height: 350px; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col col-md-6">
        <div class="collapse multi-collapse" id="multiCollapseExample6-1">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#collapse6-1">銷貨收入/總資產</a>
                    </h4>
                </div>
                <div id="collapse6-1" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div id="chartContainer6-1" style="height: 350px; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col col-md-6">
        <div class="collapse multi-collapse" id="multiCollapseExample7">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#collapse7">總資產</a>
                    </h4>
                </div>
                <div id="collapse7" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div id="chartContainer7" style="height: 350px; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col col-md-6">
        <div class="collapse multi-collapse" id="multiCollapseExample8">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#collapse8">總負債</a>
                    </h4>
                </div>
                <div id="collapse8" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div id="chartContainer8" style="height: 350px; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>





    @{ var md = Model.ToList();}
    @section scripts{

        <script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
        <script type="text/javascript">
        window.onload = function () {
            var chart = new CanvasJS.Chart("chartContainer", {
                theme: "theme2",
                zoomEnabled: true,
                animationEnabled: true,
                height: 350,
                width: 420,
                title: {
                    text: "Zscore"
                },
                legend: {
                    horizontalAlign: "right", // left, center ,right
                    verticalAlign: "top",  // top, center, bottom
                },
                subtitles: [
                    {
                        text: "3家公司依年度分析"
                    }
                ],
                axisX: {
                    valueFormatString: "####"
                },
                axisY: {
                    stripLines: [
                        {
                            value: 1.81,
                            lineDashType: "dot",
                            color:"red",
                            labelPlacement: "outside",
                            lineDashType: "dashDot",
                            thickness: 3
                        }
                        , {
                            value: 2.99,
                            lineDashType: "dot",
                            color:"green",
                            labelPlacement: "outside",
                            lineDashType: "dashDot",
                            thickness: 3,

                        }
                    ]
                },
                data: [
                    @{
                        for (int i=0;i< md.Count;i++)
                        {
                            if (i==0)
                            {
                                @:{type: "spline",
                            }
                            else
                            {
                                @:,{type: "spline",
                            }
                            @:xValueFormatString: "@md[i].stockName Year ####",
                            @:name: "@md[i].stockName",
                            @:showInLegend:true,
                            @:dataPoints:[


                            for (int j = 0; j < md[i].CFA_Information.Count; j++)
                            {
                                int k = 2008 + j;
                                @:{ x: @k, y:@md[i].CFA_Information[j].ZValue },
                            }
                            @:]}
                        }

                    }
                    
                    ]
            });
            chart.render();

            var chart2 = new CanvasJS.Chart("chartContainer2", {
                theme: "theme2",
                zoomEnabled: true,
                animationEnabled: true,
                height: 350,
                width: 380,
                title: {
                    text: "EBIT"
                },
                legend: {
                    horizontalAlign: "right", // left, center ,right
                    verticalAlign: "top",  // top, center, bottom
                },
                subtitles: [
                    {
                        text: "3家公司依年度分析"
                    }
                ],
                axisX: {
                    valueFormatString: "####"
                },
                data: [
                    @{
                        for (int i=0;i< md.Count;i++)
                        {
                            if (i==0)
                            {
                                @:{type: "spline",
                            }
                            else
                            {
                                @:,{type: "spline",
                            }
                            @:xValueFormatString: "@md[i].stockName Year ####",
                            @:name: "@md[i].stockName",
                            @:showInLegend:true,
                            @:dataPoints:[


                            for (int j = 0; j < md[i].CFA_Information.Count; j++)
                            {
                                int k = 2008 + j;
                                @:{ x: @k, y:@md[i].CFA_Information[j].EBIT },
                            }
                            @:]}
                        }

                    }
                    ]
            });
            chart2.render();

            var chart21 = new CanvasJS.Chart("chartContainer2-1", {
                theme: "theme2",
                zoomEnabled: true,
                animationEnabled: true,
                width: 380,
                title: {
                    text: "EBIT/總資產"
                },
                legend: {
                    horizontalAlign: "right", // left, center ,right
                    verticalAlign: "top",  // top, center, bottom
                },
                subtitles: [
                    {
                        text: "3家公司依年度分析"
                    }
                ],
                axisX: {
                    valueFormatString: "####"
                },
                data: [
                    @{
                        for (int i=0;i< md.Count;i++)
                        {
                            if (i==0)
                            {
                                @:{type: "spline",
                            }
                            else
                            {
                                @:,{type: "spline",
                            }
                            @:xValueFormatString: "@md[i].stockName Year ####",
                            @:name: "@md[i].stockName",
                            @:showInLegend:true,
                            @:dataPoints:[


                            for (int j = 0; j < md[i].CFA_Information.Count; j++)
                            {
                                int k = 2008 + j;
                                var p = md[i].CFA_Information[j].EBIT/md[i].CFA_Information[j].TotalAsset;
                                @:{ x: @k, y:@p },
                            }
                            @:]}
                        }

                    }
                    ]
            });
            chart21.render();

            var chart3 = new CanvasJS.Chart("chartContainer3", {
                theme: "theme2",
                zoomEnabled: true,
                animationEnabled: true,
                width: 380,
                title: {
                    text: "保留盈餘"
                },
                legend: {
                    horizontalAlign: "right", // left, center ,right
                    verticalAlign: "top",  // top, center, bottom
                },
                subtitles: [
                    {
                        text: "3家公司依年度分析"
                    }
                ],
                axisX: {
                    valueFormatString: "####"
                },
                data: [
                    @{
                        for (int i=0;i< md.Count;i++)
                        {
                            if (i==0)
                            {
                                @:{type: "spline",
                            }
                            else
                            {
                                @:,{type: "spline",
                            }
                            @:xValueFormatString: "@md[i].stockName Year ####",
                            @:name: "@md[i].stockName",
                            @:showInLegend:true,
                            @:dataPoints:[


                            for (int j = 0; j < md[i].CFA_Information.Count; j++)
                            {
                                int k = 2008 + j;
                                var p = md[i].CFA_Information[j].RetainedEarning;
                                @:{ x: @k, y:@p },
                            }
                            @:]}
                        }

                    }
                    ]
            });
            chart3.render();

            var chart31 = new CanvasJS.Chart("chartContainer3-1", {
                theme: "theme2",
                zoomEnabled: true,
                animationEnabled: true,
                width: 380,
                title: {
                    text: "保留盈餘/總資產"
                },
                legend: {
                    horizontalAlign: "right", // left, center ,right
                    verticalAlign: "top",  // top, center, bottom
                },
                subtitles: [
                    {
                        text: "3家公司依年度分析"
                    }
                ],
                axisX: {
                    valueFormatString: "####"
                },
                data: [
                    @{
                        for (int i=0;i< md.Count;i++)
                        {
                            if (i==0)
                            {
                                @:{type: "spline",
                            }
                            else
                            {
                                @:,{type: "spline",
                            }
                            @:xValueFormatString: "@md[i].stockName Year ####",
                            @:name: "@md[i].stockName",
                            @:showInLegend:true,
                            @:dataPoints:[


                            for (int j = 0; j < md[i].CFA_Information.Count; j++)
                            {
                                int k = 2008 + j;
                                var p = md[i].CFA_Information[j].RetainedEarning / md[i].CFA_Information[j].TotalAsset;
                                @:{ x: @k, y:@p },
                            }
                            @:]}
                        }

                    }
                    ]
            });
            chart31.render();

            var chart4 = new CanvasJS.Chart("chartContainer4", {
                theme: "theme2",
                zoomEnabled: true,
                animationEnabled: true,
                width:380,
                title: {
                    text: "營運資金"
                },
                legend: {
                    horizontalAlign: "right", // left, center ,right
                    verticalAlign: "top",  // top, center, bottom
                },
                subtitles: [
                    {
                        text: "3家公司依年度分析"
                    }
                ],
                axisX: {
                    valueFormatString: "####"
                },
                data: [
                    @{
                        for (int i=0;i< md.Count;i++)
                        {
                            if (i==0)
                            {
                                @:{type: "spline",
                            }
                            else
                            {
                                @:,{type: "spline",
                            }
                            @:xValueFormatString: "@md[i].stockName Year ####",
                            @:name: "@md[i].stockName",
                            @:showInLegend:true,
                            @:dataPoints:[


                            for (int j = 0; j < md[i].CFA_Information.Count; j++)
                            {
                                int k = 2008 + j;
                                var p = md[i].CFA_Information[j].WorkingCapital;
                                @:{ x: @k, y:@p },
                            }
                            @:]}
                        }

                    }
                    ]
            });
            chart4.render();

            var chart41 = new CanvasJS.Chart("chartContainer4-1", {
                theme: "theme2",
                zoomEnabled: true,
                animationEnabled: true,
                width:380,
                title: {
                    text: "營運資金/總資產"
                },
                legend: {
                    horizontalAlign: "right", // left, center ,right
                    verticalAlign: "top",  // top, center, bottom
                },
                subtitles: [
                    {
                        text: "3家公司依年度分析"
                    }
                ],
                axisX: {
                    valueFormatString: "####"
                },
                data: [
                    @{
                        for (int i=0;i< md.Count;i++)
                        {
                            if (i==0)
                            {
                                @:{type: "spline",
                            }
                            else
                            {
                                @:,{type: "spline",
                            }
                            @:xValueFormatString: "@md[i].stockName Year ####",
                            @:name: "@md[i].stockName",
                            @:showInLegend:true,
                            @:dataPoints:[


                            for (int j = 0; j < md[i].CFA_Information.Count; j++)
                            {
                                int k = 2008 + j;
                                var p = md[i].CFA_Information[j].WorkingCapital / md[i].CFA_Information[j].TotalAsset;
                                @:{ x: @k, y:@p },
                            }
                            @:]}
                        }

                    }
                    ]
            });
            chart41.render();

            var chart5 = new CanvasJS.Chart("chartContainer5", {
                theme: "theme2",
                zoomEnabled: true,
                animationEnabled: true,
                width: 380,
                title: {
                    text: "總市值"
                },
                legend: {
                    horizontalAlign: "right", // left, center ,right
                    verticalAlign: "top",  // top, center, bottom
                },
                subtitles: [
                    {
                        text: "3家公司依年度分析"
                    }
                ],
                axisX: {
                    valueFormatString: "####"
                },
                data: [
                    @{
                        for (int i=0;i< md.Count;i++)
                        {
                            if (i==0)
                            {
                                @:{type: "spline",
                            }
                            else
                            {
                                @:,{type: "spline",
                            }
                            @:xValueFormatString: "@md[i].stockName Year ####",
                            @:name: "@md[i].stockName",
                            @:showInLegend:true,
                            @:dataPoints:[


                            for (int j = 0; j < md[i].CFA_Information.Count; j++)
                            {
                                int k = 2008 + j;
                                var p = md[i].CFA_Information[j].MarketValue;
                                @:{ x: @k, y:@p },
                            }
                            @:]}
                        }

                    }
                    ]
            });
            chart5.render();

            var chart51 = new CanvasJS.Chart("chartContainer5-1", {
                theme: "theme2",
                zoomEnabled: true,
                animationEnabled: true,
                width: 380,
                title: {
                    text: "總市值/總負債"
                },
                legend: {
                    horizontalAlign: "right", // left, center ,right
                    verticalAlign: "top",  // top, center, bottom
                },
                subtitles: [
                    {
                        text: "3家公司依年度分析"
                    }
                ],
                axisX: {
                    valueFormatString: "####"
                },
                data: [
                    @{
                        for (int i=0;i< md.Count;i++)
                        {
                            if (i==0)
                            {
                                @:{type: "spline",
                            }
                            else
                            {
                                @:,{type: "spline",
                            }
                            @:xValueFormatString: "@md[i].stockName Year ####",
                            @:name: "@md[i].stockName",
                            @:showInLegend:true,
                            @:dataPoints:[


                            for (int j = 0; j < md[i].CFA_Information.Count; j++)
                            {
                                int k = 2008 + j;
                                var p = md[i].CFA_Information[j].MarketValue / md[i].CFA_Information[j].TotalLiability;
                                @:{ x: @k, y:@p },
                            }
                            @:]}
                        }

                    }
                    ]
            });
            chart51.render();

            var chart6 = new CanvasJS.Chart("chartContainer6", {
                theme: "theme2",
                zoomEnabled: true,
                animationEnabled: true,
                width: 380,
                title: {
                    text: "銷貨收入"
                },
                legend: {
                    horizontalAlign: "right", // left, center ,right
                    verticalAlign: "top",  // top, center, bottom
                },
                subtitles: [
                    {
                        text: "3家公司依年度分析"
                    }
                ],
                axisX: {
                    valueFormatString: "####"
                },
                data: [
                    @{
                        for (int i=0;i< md.Count;i++)
                        {
                            if (i==0)
                            {
                                @:{type: "spline",
                            }
                            else
                            {
                                @:,{type: "spline",
                            }
                            @:xValueFormatString: "@md[i].stockName Year ####",
                            @:name: "@md[i].stockName",
                            @:showInLegend:true,
                            @:dataPoints:[


                            for (int j = 0; j < md[i].CFA_Information.Count; j++)
                            {
                                int k = 2008 + j;
                                var p = md[i].CFA_Information[j].GrossSales;
                                @:{ x: @k, y:@p },
                            }
                            @:]}
                        }

                    }
                    ]
            });
            chart6.render();

            var chart61 = new CanvasJS.Chart("chartContainer6-1", {
                theme: "theme2",
                zoomEnabled: true,
                animationEnabled: true,
                width: 380,
                title: {
                    text: "銷貨收入/總資產"
                },
                legend: {
                    horizontalAlign: "right", // left, center ,right
                    verticalAlign: "top",  // top, center, bottom
                },
                subtitles: [
                    {
                        text: "3家公司依年度分析"
                    }
                ],
                axisX: {
                    valueFormatString: "####"
                },
                data: [
                    @{
                        for (int i=0;i< md.Count;i++)
                        {
                            if (i==0)
                            {
                                @:{type: "spline",
                            }
                            else
                            {
                                @:,{type: "spline",
                            }
                            @:xValueFormatString: "@md[i].stockName Year ####",
                            @:name: "@md[i].stockName",
                            @:showInLegend:true,
                            @:dataPoints:[


                            for (int j = 0; j < md[i].CFA_Information.Count; j++)
                            {
                                int k = 2008 + j;
                                var p = md[i].CFA_Information[j].GrossSales / md[i].CFA_Information[j].TotalAsset;
                                @:{ x: @k, y:@p },
                            }
                            @:]}
                        }

                    }
                    ]
            });
            chart61.render();

            var chart7 = new CanvasJS.Chart("chartContainer7", {
                theme: "theme2",
                zoomEnabled: true,
                animationEnabled: true,
                width: 380,
                title: {
                    text: "總資產"
                },
                legend: {
                    horizontalAlign: "right", // left, center ,right
                    verticalAlign: "top",  // top, center, bottom
                },
                subtitles: [
                    {
                        text: "3家公司依年度分析"
                    }
                ],
                axisX: {
                    valueFormatString: "####"
                },
                data: [
                    @{
                        for (int i=0;i< md.Count;i++)
                        {
                            if (i==0)
                            {
                                @:{type: "spline",
                            }
                            else
                            {
                                @:,{type: "spline",
                            }
                            @:xValueFormatString: "@md[i].stockName Year ####",
                            @:name: "@md[i].stockName",
                            @:showInLegend:true,
                            @:dataPoints:[


                            for (int j = 0; j < md[i].CFA_Information.Count; j++)
                            {
                                int k = 2008 + j;
                                var p = md[i].CFA_Information[j].TotalAsset;
                                @:{ x: @k, y:@p },
                            }
                            @:]}
                        }

                    }
                    ]
            });
            chart7.render();

            var chart8 = new CanvasJS.Chart("chartContainer8", {
                theme: "theme2",
                zoomEnabled: true,
                animationEnabled: true,
                width: 380,
                title: {
                    text: "總負債"
                },
                legend: {
                    horizontalAlign: "right", // left, center ,right
                    verticalAlign: "top",  // top, center, bottom
                },
                subtitles: [
                    {
                        text: "3家公司依年度分析"
                    }
                ],
                axisX: {
                    valueFormatString: "####"
                },
                data: [
                    @{
                        for (int i=0;i< md.Count;i++)
                        {
                            if (i==0)
                            {
                                @:{type: "spline",
                            }
                            else
                            {
                                @:,{type: "spline",
                            }
                            @:xValueFormatString: "@md[i].stockName Year ####",
                            @:name: "@md[i].stockName",
                            @:showInLegend:true,
                            @:dataPoints:[


                            for (int j = 0; j < md[i].CFA_Information.Count; j++)
                            {
                                int k = 2008 + j;
                                var p = md[i].CFA_Information[j].TotalLiability;
                                @:{ x: @k, y:@p },
                            }
                            @:]}
                        }

                    }
                    ]
            });
            chart8.render();
        };
        </script>

        @Scripts.Render("~/bundles/jqueryval")

    }
